"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[913],{3355:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(2007),a=t.n(r),s=t(1087),u=t(7689),i="movie-list_list__U-qGD",o="movie-list_item__514PC",c="movie-list_link__klGvP",l="movie-list_text__2ZTj5",f=t(184),p=function(e){var n=e.results,t=(0,u.TH)(),r=n.map((function(e){var n=e.id,r=e.title;return(0,f.jsx)("li",{className:o,children:(0,f.jsx)(s.OL,{className:c,to:"/movies/".concat(n),state:{from:t},children:(0,f.jsx)("p",{className:l,children:r})})},n)}));return(0,f.jsx)("ul",{className:i,children:r})},d=p;p.defaultProps={results:[]},s.OL.propTypes={results:a().arrayOf(a().shape({id:a().number.isRequired,title:a().string.isRequired}))}},913:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(5861),a=t(3433),s=t(9439),u=t(7757),i=t.n(u),o=t(1087),c=t(2791),l=t(1686),f=t(5243),p=t(5898),d=t(4942),m=t(1413),v={search:""},h="posts-search_button__FylCN",g="posts-search_input__Apm5i",x=t(184),b=function(e){var n=e.onSubmit;console.log(n);var t=(0,c.useState)((0,m.Z)({},v)),r=(0,s.Z)(t,2),a=r[0],u=r[1],i=a.query;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.search.trim().toLowerCase())return console.log("Enter correct search!");n(a.search),u((0,m.Z)({},v))},children:[(0,x.jsx)("input",{className:g,name:"search",value:i,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",required:!0,onChange:function(e){var n=e.target,t=n.name,r=n.value;u((function(e){return(0,m.Z)((0,m.Z)({},e),{},(0,d.Z)({},t,r.trim()))}))}}),(0,x.jsx)("button",{className:h,type:"submit",children:"Search"})]})})},y=(0,c.memo)(b),w=t(3355),_=t(829),Z=function(){var e=(0,o.lr)(),n=(0,s.Z)(e,2),t=n[0],u=n[1],d=(0,c.useMemo)((function(){return Object.fromEntries((0,a.Z)(t))}),[t]),m=d.query,v=d.page,h=Number(v)?Number(v):1,g=(0,c.useState)(0),b=(0,s.Z)(g,2),Z=b[0],k=b[1],j=(0,c.useState)([]),N=(0,s.Z)(j,2),C=N[0],S=N[1],q=(0,c.useState)(""),P=(0,s.Z)(q,2),L=P[0],T=P[1],O=(0,c.useState)(!1),E=(0,s.Z)(O,2),F=E[0],R=E[1],D=(0,c.useState)(null),B=(0,s.Z)(D,2),G=B[0],M=B[1];(0,c.useEffect)((function(){if(m)try{R(!0);var e=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.vw)(n,m);case 2:t=e.sent,r=t.results,a=t.total_pages,r.length?(k(a),S(r)):(l.Notify.failure("No found"),k(0));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e(h,m)}catch(n){M(n.message)}finally{R(!1)}}),[m,h,v]);var U=(0,c.useCallback)((function(e){console.log("1"),e!==L?(u({query:e,page:1}),S([]),T(e)):l.Notify.warning("you have already entered this query!")}),[u,L]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("main",{style:{paddingBottom:20},children:[(0,x.jsx)(y,{onSubmit:U}),F&&(0,x.jsx)(f.CJ,{height:"180",width:"180",color:"#4fa94d",ariaLabel:"triangle-loading",visible:!0}),(0,x.jsx)(w.Z,{results:C}),G&&(0,x.jsxs)("p",{children:["Error",G.message]}),(0,x.jsx)(_.T,{breakLabel:"...",nextLabel:"Next",onPageChange:function(e){u({query:m,page:e.selected+1})},pageRangeDisplayed:3,pageCount:Z,previousLabel:"Prev",renderOnZeroPageCount:null,disabledLinkClassName:"disabled",activeClassName:"activePage",forcePage:h-1})]})})}},829:function(e,n,t){t.d(n,{T:function(){return o}});var r,a=t(168),s=t(6444),u=t(6048),i=t.n(u),o=(0,s.ZP)(i())(r||(r=(0,a.Z)(["\n  display: flex;\n  list-style: none;\n  justify-content: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  font-size: 16px;\n  font-weight: 700;\n  @media (max-width: 500px) {\n    flex-wrap: wrap;\n  }\n  & li {\n    border: 1px solid black;\n    border-radius: 10px;\n    margin: 5px;\n    color: ",";\n    transition: color 300ms linear, border 300ms linear;\n    :hover:not(.disabled) {\n      color: ",";\n      border: 1px solid red;\n    }\n  }\n  & .activePage {\n    color: ",";\n    border: 1px solid red;\n  }\n  & a {\n    padding: 0 8px;\n    cursor: pointer;\n  }\n  & a.disabled {\n    cursor: default;\n  }\n"])),(function(e){return"black"}),(function(e){return"red"}),(function(e){return"red"}))},5898:function(e,n,t){t.d(n,{Bt:function(){return f},Mc:function(){return c},Tg:function(){return i},d5:function(){return l},vw:function(){return o}});var r=t(5861),a=t(7757),s=t.n(a),u=t(1912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"8c2d35d0c441850846a9f314ac71f075"}}),i=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"movie","week",e.next=4,u.get("/trending/".concat("movie","/").concat("week","?page=").concat(n));case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/search/movie?page=".concat(n,"&query=").concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(n,"/credits"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(n,"/reviews"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=913.a8147385.chunk.js.map